(function(){"use strict";let r=0;const s={canvas:null},o={ctx:null},l=()=>({x:Math.random()*(s.canvas.width-6)+3,y:Math.random()*(s.canvas.height-6)+3});let h;const n=[],g=()=>{for(let t=0;t<h;t++){const c=l();n.push({x:c.x,y:c.y,target:l(),progress:0})}},y=()=>{const t=o.ctx;t.strokeStyle=`rgba(0, 186, 255, ${Math.min(r,.1)})`,t.lineWidth=1,t.beginPath(),t.lineCap="round";for(const c of n){t.moveTo(c.x,c.y);for(const e of n){const a=e.x-c.x,i=e.y-c.y;Math.hypot(a,i)<100&&t.lineTo(e.x,e.y)}}t.stroke()},f=()=>{const t=o.ctx;t.fillStyle=`rgba(255, 69, 0, ${r})`;for(const c of n)t.beginPath(),t.arc(c.x,c.y,3,0,2*Math.PI),t.fill()},p=()=>{for(const t of n){t.progress+=8e-5,t.progress>1&&(t.progress=1);const c=t.progress,e=c**2*(3-2*c);t.x+=(t.target.x-t.x)*e,t.y+=(t.target.y-t.y)*e,t.x+=(t.target.x-t.x)*8e-5,t.y+=(t.target.y-t.y)*8e-5,Math.hypot(t.target.x-t.x,t.target.y-t.y)<1&&(t.target=l(),t.progress=0)}},d=()=>{o.ctx.fillStyle="rgba(0, 0, 0, 0.06)",o.ctx.fillRect(0,0,s.canvas.width,s.canvas.height),y(),f(),p(),r+=r<.3?5e-4:0,requestAnimationFrame(d)};onmessage=t=>{const{commit:c,src:e,canvas:a,w:i,h:x,c:m}=t.data;switch(c){case"init":s.canvas=a,o.ctx=a.getContext("2d"),a.width=i,a.height=x,h=m,g(),requestAnimationFrame(d);break;case"resize":s.canvas.width=i,s.canvas.height=x;break}}})();
